if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MAWDbAppMeta",[],(function(a,b,c,d,e,f){a={msgTypeVersion:"msgTypeVersion",hmacKey:"hmacKey",allowSecurityAlert:"allowSecurityAlert",hotlikeSticker:"hotlikeSticker",isBackfilledForOccamadillo:"isBackfilledForOccamadillo"};f.AppMetaKeysEnum=a}),66);
__d("MAWDbBrowserEncryptionMetaTxns",["MAWCryptoConsts","MAWDexieTable","MAWKeychain","MAWKeychainCrypto","WALogger","WATimeUtils","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Keychain - No Previous Browser Encryption Meta Exists"]);h=function(){return a};return a}function i(a){return a.browserEncryptionMetaV2.orderBy("version").toArray()}function j(a){return a.browserEncryptionMetaV2.orderBy("version").last()}function a(a,b){return a.browserEncryptionMetaV2.where("version").equals(b).first()}function k(a,b){return a.browserEncryptionMetaV2.add(b)}function l(a){return a.browserEncryptionMetaV2.count()}function m(a,b,c){var e=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),f=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();return d("MAWDexieTable").dexieAll([d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").importBrowserEncryptionKey(e)),d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").encryptDataToStringBuffer(b,f))]).then(function(b){var g=b[0];b=b[1];var h=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);b={key:e,seed:b,expiration:h,version:c};return k(a,b).then(function(){return{expiration:h,version:c,key:g,seed:f}})})}function b(a,b){return j(a).then(function(c){c==null&&d("WALogger").DEV(h());if(c!=null&&!d("WATimeUtils").isInFuture(c.expiration))return m(a,b,c.version+1).then(function(){});return})}function n(a,b,c){return i(a).then(function(a){var e=c==null?a:a.filter(function(a){return a.version<=c});a=e.map(function(a){return d("MAWDexieTable").dexieAll([d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key)),d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").decryptDataToArrayBuffer(b,a.seed))]).then(function(b){var c=b[0];b=b[1];return{key:c,seed:b,expiration:a.expiration,version:a.version}})});return d("MAWDexieTable").dexieAll(a).then(function(a){var b=new Map(),c=d("MAWKeychain").getLatestVersion();a.map(function(a){b.set(a.version,a),c<a.version&&(c=a.version)});d("MAWKeychain").setLatestVersion(c);d("MAWKeychain").setEncryptionKeyEntries(b);return{dbEncMetas:e,encEntriesMap:b,latestVersion:c}})})}function e(a,b){return n(a,b).then(function(e){var f=e.dbEncMetas,g=e.encEntriesMap,h=e.latestVersion;return l(a).then(function(e){if(e!==f.length)throw c("err")("MAWKeychain - EncMeta count does not equal the fetched amount");e===0&&f.length===0?e=m(a,b,d("MAWCryptoConsts").VERSION).then(function(a){var b=new Map(),c=a.version;b.set(c,a);d("MAWKeychain").setEncryptionKeyEntries(b);d("MAWKeychain").setLatestVersion(c);return{encMaterials:b,latestVersion:c}}):e=d("MAWDexieTable").dexieResolve({encMaterials:g,latestVersion:h});return e})})}g.getAllBrowserEncryptionMeta=i;g.getLatestBrowserEncryptionMeta=j;g.getBrowserEncryptionMetaByVersion=a;g.setBrowserEncryptionMeta=k;g.getBrowserEncryptionMetaCount=l;g.generateNewBrowserEncryptionMeta=m;g.maybeRotateBrowserEncryptionMeta=b;g.fetchEncryptionMetas=n;g.fetchOrGenerateEncryptionMetas=e}),98);
__d("MAWEncyptionIndexedDb",["MAWDexieTable","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","Promise","dexie_alpha","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={browserEncryptionMetaV2:"++id, &version"};f=babelHelpers["extends"]({},h);var i=null;function j(){if(i==null)throw c("err")("Encryption IndexDB should've been initialized");return i}function a(a){i==null&&(i=new(d("MAWDexieTable").DexieTable)(d("MAWIndexedDbMetadata").ENCRYPTION_DB_NAME+"_"+a,function(a){a.version(1).stores(h),a.on("versionchange",function(){window.location.reload()})}));return b("Promise").resolve()}function e(a,b){var e=Object.keys(a),f=e.some(function(b){return a[b]==="rw"})?"rw":"r",g=function(a){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];if(c("dexie_alpha").currentTransaction!=null)throw c("unrecoverableViolation")("makeEncryptionMsgrTransactor cannot be called within another transaction","messenger_e2ee_web");var k=b!=null?d("MAWQplProxy").startQplUserFlow(b):null,l=j();return l.transact(f,e,function(){return a.apply(void 0,[l.stores].concat(h)).then(function(a){k==null?void 0:k.endSuccess();return a})["catch"](function(a){k==null?void 0:k.endFail("encryption_transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor","messenger_e2ee_web",a?{error:a}:{})})})}};return g}g.CURRENT_ENCRYPTION_MAW_STORES=f;g.getEncryptionDB=j;g.makeEncryptionDB=a;g.makeEncryptionMsgrTransactor=e}),98);
__d("MAWKeychain",["MAWCryptoConsts","MAWDbBrowserEncryptionMetaTxns","MAWEncyptionIndexedDb","MAWKeychainCrypto","MAWTransactionMode","Promise","WALogger","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Worker Thread"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Main Thread"]);i=function(){return a};return a}var j={accountKey:null,encryptionMaterials:new Map(),databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION};function k(){var a=n();if(a==null)return d("MAWKeychainCrypto").genAccountKey().then(function(a){o(a);return a});else return b("Promise").resolve(a)}function a(){return k().then(function(a){return d("MAWEncyptionIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWTransactionMode").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").fetchOrGenerateEncryptionMetas)(a).then(function(a){var b=a.encMaterials,c=a.latestVersion;return m(b).then(function(){d("WALogger").LOG(i());return c})})})}function e(a){return k().then(function(b){return d("MAWEncyptionIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWTransactionMode").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").fetchEncryptionMetas)(b,a).then(function(a){a=a.encEntriesMap;if(a.size===0)throw c("err")("Worker expected EARKeychain to have been setup in Mainworker");d("WALogger").LOG(h());return m(a)})})}function f(){return k().then(function(a){return d("MAWEncyptionIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWTransactionMode").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").maybeRotateBrowserEncryptionMeta)(a)})}function l(a){var b=a==null?p():a,d=s(b);if(d==null)throw c("err")("expected DBEncryptionKey with version "+b+" to exist - isVersionNull : "+(a==null).toString());return{version:b,key:d}}function m(a){var c=[];a.forEach(function(a,b){c.push(d("MAWKeychainCrypto").genDatabaseEncryptionKey(a.key,a.seed).then(function(a){return{version:b,dbEncKey:a}}))});return b("Promise").all(c).then(function(a){a.map(function(a){var b=a.version;a=a.dbEncKey;t(b,a)})})}function n(){return j.accountKey}function o(a){j.accountKey=a}function p(){return j.latestVersion}function q(a){j.latestVersion=a}function r(a){j.encryptionMaterials=a}function s(a){return j.databaseEncryptionKeys.get(a)}function t(a,b){j.databaseEncryptionKeys.set(a,b)}function u(){return j.databaseEncryptionKeys}function v(){return j}function w(){j.accountKey=null,j.encryptionMaterials=new Map(),j.databaseEncryptionKeys=new Map(),j.latestVersion=d("MAWCryptoConsts").VERSION}g.fetchOrGenerateAccountKey=k;g.setupEARKeychain=a;g.fetchEARKeyChainForWorker=e;g.maybeRotateBrowserEncryptionMetaInTxn=f;g.getDbEncryptionKey=l;g.getLatestVersion=p;g.setLatestVersion=q;g.setEncryptionKeyEntries=r;g.getAllDatabaseEncryptionKeys=u;g.getEARKeychainForDebugging=v;g.resetEARKeyChain=w}),98);
__d("MAWDbMetaTxns",["SignalDbTypes"],(function(a,b,c,d,e,f,g){function a(a,b){return a.meta.put({key:d("SignalDbTypes").MetaKeysEnum.cat,value:{cat:b}}).then(function(){})}function b(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceId).then(function(a){return a==null?void 0:a.value.deviceId})}function c(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceUUID).then(function(a){return{deviceUUID:a==null?void 0:a.value.deviceUUID}})}function e(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.clockSkew).then(function(a){return a==null?void 0:a.value.clockSkew})}function f(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.edgeInfo).then(function(a){return a==null?void 0:a.value.edgeInfo})}function h(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.lastSignedPrekeyId).then(function(a){return a==null?void 0:a.value.lastSignedPrekeyId})}function i(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.lastPrekeyId).then(function(a){return a==null?void 0:a.value.lastPrekeyId})}function j(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.lastPrekeyGenerationId).then(function(a){return a==null?void 0:a.value.lastPrekeyGenerationId})}function k(a){return a.meta.toArray()}g.putCAT=a;g.maybeGetDeviceId=b;g.getPushMetaData=c;g.maybeGetClockSkew=e;g.maybeGetEdgeInfo=f;g.maybeGetLastSignedPrekeyId=h;g.maybeGetLastPrekeyId=i;g.maybeGetLastPrekeyGenerationId=j;g.getAllMeta=k}),98);
__d("MAWDbMsgTypeVersionTxns",["MAWDbAppMeta"],(function(a,b,c,d,e,f,g){function a(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion}).then(function(a){return a==null?void 0:a.value.msgTypeVersion})}function b(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function c(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion,value:{msgTypeVersion:b}})}function e(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey,value:{hmacKey:b}})}function f(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey}).then(function(a){return a==null?void 0:a.value.hmacKey})}function h(a,b){return a.appMeta.get({key:b})}function i(a,b){return a.appMeta.put({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert,value:{allowSecurityAlert:b}}).then(function(){})}function j(a){return h(a,d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert).then(function(a){return(a==null?void 0:a.value.allowSecurityAlert)===!0})}function k(a,b){return a.appMeta.add({key:d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker,value:{hotlikeSticker:b}})}g.MSG_TYPE_VERSION=d("MAWDbAppMeta").AppMetaKeysEnum.msgTypeVersion;g.HMAC_KEY=d("MAWDbAppMeta").AppMetaKeysEnum.hmacKey;g.ALLOW_SECURITY_ALERT=d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert;g.HOT_LIKE=d("MAWDbAppMeta").AppMetaKeysEnum.hotlikeSticker;g.getMsgTypeVersion=a;g.addMsgTypeVersion=b;g.updateMsgTypeVersion=c;g.addHMACKey=e;g.getHMACKey=f;g.getAppMetaValue=h;g.updateSecurityAlertValue=i;g.maybeGetSecuritySetting=j;g.addHotLike=k}),98);
__d("MAWDeviceRegistrationTypes",[],(function(a,b,c,d,e,f){a=25;b=50;c=100;d="https://v.whatsapp.net/v2/fb_icdc_fetch";e="https://v.whatsapp.net/v2/fb_icdc_fetch";var g="https://reg-e2ee.facebook.com/v2/fb_register_v2",h="https://reg-e2ee.instagram.com/v2/fb_register_v2",i="Device has already been registered to WA servers",j="Device registration finished successfully",k="Failed to register device on WA Servers",l="Device registration retries failed "+b+" times. No longer attempting registration to WA Server.",m="Device registration response was null",n={failed:"failed",finished:"finished"};f.MAX_USERS_FOR_NOTIFY_DEVICE_CHANGE=a;f.MAX_DEVICE_REGISTRATION_RETRIES=b;f.MAX_ROTATE_CRYPTO_AUTH_TOKEN_RETRIES=c;f.ICDC_ENDPOINT=d;f.IGD_ICDC_ENDPOINT=e;f.REGISTRATION_ENDPOINT=g;f.IGD_REGISTRATION_ENDPOINT=h;f.DEVICE_ALREADY_REGISTERED=i;f.DEVICE_SUCCESSFULLY_REGISTERED=j;f.FAILED_TO_REGISTER=k;f.FAILED_REGISTRATION_RETRIES=l;f.NULL_RESPONSE_FROM_SERVER=m;f.RegistrationStatesEnum=n}),66);
__d("MAWHMACKey",["MAWCryptoConsts","MAWDbMsgTypeVersionTxns","MAWIndexedDb","MAWKeychainUtil","MAWSubtleCrypto","MAWTransactionMode","WABase64","tweetnacl-auth"],(function(a,b,c,d,e,f,g){function h(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return i(a).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function a(a,b){a=new TextEncoder().encode(a);b=new Uint8Array(b);a=c("tweetnacl-auth")(a,b);return d("WABase64").encodeB64UrlSafe(a)}function b(){return h().then(function(a){return d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READWRITE})(function(b){return d("MAWDbMsgTypeVersionTxns").getHMACKey(b).then(function(c){if(c!=null)return;return d("MAWDbMsgTypeVersionTxns").addHMACKey(b,a).then(function(a){return})})})()})}function i(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!0,["sign"])}g.genHMACKey=h;g.hmacTweetNaCl=a;g.generateAndInsertHMACKey=b}),98);
__d("MAWLSDBEncryption",["MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWKeychainV2","err"],(function(a,b,c,d,e,f,g){function a(a,b){try{var e=d("MAWKeychainV2").getDbEncryptionKey(),f=e.version;e=e.key;f=d("MAWKeychainUtil").makeAAD(f,d("MAWCryptoConsts").CIPHER_ID);e=h(e,a,f);return e}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherDataString(a),f=d("MAWKeychainV2").getDbEncryptionKey(e);f=f.key;f=i(f,a,e);return f}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to decrypt an entity for table "+b)}}function h(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(b),c)}function i(a,b,c){a=d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b,c);b=new TextDecoder().decode(a);return b}g.encryptLSDBObj=a;g.decryptLSDBObj=b;g.decryptStrWithKeyVersion=i}),98);
__d("MAWLoadRecentParticipantsApi",["MAWIndexedDb","MAWLLAMigrationUtils","MAWTransactionMode","WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWIndexedDb").makeMsgrTransactor.apply(void 0,[{threads:d("MAWTransactionMode").READONLY}].concat(d("MAWLLAMigrationUtils").getTransactorQPLParam("loadRecentParticipants",!1)))(function(a,b,c){return a.threads.orderBy("threadOrder").filter(function(a){return d("WAJids").interpretAsGroupJid(a.jid)==null}).reverse().limit(b).toArray().then(function(a){var b=[];a.forEach(function(a){a=d("WAJids").interpretAsUserJid(a.jid);a!=null&&a!==c&&b.push(a)});return new Set(b)})});g.loadRecentParticipants=a}),98);
__d("MAWAdminMsg",["fbt","Env","I64","MAWLocalizationType","ReQL","ReQLSuspense","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=" You can only see messages sent after you were added.",j=" They can only see messages sent after they were added.",k=Boolean(c("Env").isMessengerDotComOnComet)?"Messenger":c("gkx")("1902661")?"Instagram":"Facebook";function l(){return h._("__JHASH__9kaBCOd2SjE__JHASH__",[h._param("Platform Name",k)]).toString()}function a(a,b){return b.map(function(b){return(b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(d("I64").of_string(b))))==null?void 0:b.firstName)!=null?b:l()})}function b(a,b,c){switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._("__JHASH__28E9UX9VhHs__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._("__JHASH__vc0hFTqTXzB__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._("__JHASH__A65kSvLIBs0__JHASH__",[h._param("product name","group")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._("__JHASH__ioocxZa3RHl__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._("__JHASH__BkA5SKyiWz8__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._("__JHASH__3pkJPr0kqiB__JHASH__",[h._param("actor",a[0]),h._param("custom group name",a[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._("__JHASH__7HvCssg8rpe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._("__JHASH__HcuOxk4Ti9n__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._("__JHASH__z8kxY36E7hc__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._("__JHASH__CWI7wNEpg6X__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._("__JHASH__dMTvVUpHIHh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._("__JHASH__B5b_7hBmzMu__JHASH__",[h._param("user_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._("__JHASH__4PBeGakx-AK__JHASH__",[h._param("user_name",a[0]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._("__JHASH__0Fi5Y9A2S9v__JHASH__",[h._param("user_name_1",a[0]),h._param("user_name_2",a[1]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._("__JHASH__tiKPjEt2969__JHASH__",[h._param("user_name",a[0]),h._param("number of participants",a[1]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._("__JHASH__37m82P9sfkU__JHASH__",[h._param("actor",a[0]),h._param("[Armadillo] Admin message for viewer (and possibly other participants) added to a group chat.",i)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._("__JHASH__LKUigXcYzWH__JHASH__",[h._param("actor",a[0]),h._param("user_name",a[1]),h._param("[Armadillo] Admin message for viewer (and possibly other participants) added to a group chat.",i)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._("__JHASH__DCLIHEyJpyH__JHASH__",[h._param("actor",a[0]),h._param("number of participants",a[1]),h._param("[Armadillo] Admin message for viewer (and possibly other participants) added to a group chat.",i)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._("__JHASH__8pI7VIvmWY4__JHASH__",[h._param("actor",a[0]),h._param("user_name",a[1]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._("__JHASH__e-aKE-ZCVlr__JHASH__",[h._param("actor",a[0]),h._param("user_name_1",a[1]),h._param("user_name_2",a[2]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._("__JHASH__hEihUAzN_O1__JHASH__",[h._param("actor",a[0]),h._param("user_name_1",a[1]),h._param("number of participants",a[2]),h._param("[Armadillo] Admin message for other participants (one or more) added to a group chat.",j)]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._("__JHASH__T1eI6-R4Ys3__JHASH__",[h._param("user_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._("__JHASH___J2BJijyg1Y__JHASH__",[h._param("user_name_1",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._("__JHASH__GQYeJHPPFBL__JHASH__",[h._param("user_name_1",a[0]),h._param("user_name_2",a[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._("__JHASH__7gBXJGJs1RC__JHASH__",[h._param("name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._("__JHASH__twBESU9lMQ5__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._("__JHASH__P-TnfmXUkkU__JHASH__",[h._param("user_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._("__JHASH__TyOeMbh9c3n__JHASH__",[h._param("user_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._("__JHASH__g2Y-AkokbQi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._("__JHASH__QbDk7QLMtd0__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._("__JHASH__vcVM9mG_n59__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._("__JHASH__0ly_0rO21jd__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._("__JHASH__aRkzLhFK0tk__JHASH__",[h._param("actor",a[0]),h._param("target",a[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._("__JHASH__wIEAcacoGC2__JHASH__",[h._param("actor",a[0]),h._param("target",a[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._("__JHASH__BVroDb3uWvG__JHASH__",[h._param("target",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._("__JHASH__XW8QFefwwka__JHASH__",[h._param("target",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._("__JHASH__-JHaYRzvfpN__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._("__JHASH__h_Dfa2FiN92__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._("__JHASH__3iBxxmwApDO__JHASH__").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._("__JHASH__4-ojL4cFyDj__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._("__JHASH___R0NFo7psqZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._("__JHASH__NHZzbHt5fju__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._("__JHASH__GgLzAe6GAAY__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._("__JHASH__WYnHcQZeijb__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._("__JHASH__SkQ-qpSqtIH__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._("__JHASH__BxMycMKsI8g__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._("__JHASH__u9NG1-EYfRE__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._("__JHASH__GZrAjs4uDve__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._("__JHASH__B_Zg5gCb8wv__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._("__JHASH__-LJU6ON9QlF__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._("__JHASH__j_PEgQByu4Z__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._("__JHASH__1gzdEGkoXLS__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._("__JHASH__ssliyU4f4NG__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return"Unavailable message";case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._("__JHASH__m7k67dqAe-2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._("__JHASH__NRCMN2f5KgC__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__sj-fVuDqzhT__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__5cVU7cjznSj__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__kA9pD-FL4Ok__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__zs_s82I9sqr__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__-Icsu85gBJR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__UyMMdA4sswt__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__73KeDoE7JjC__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__CPSmiyxmjWu__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__3payMdHFpIG__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__jGBmm4ejMgy__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__qhFzcdaO4tc__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__mFO6ihhTf9z__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__JZBNdaseKxP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__A8DUzBDIb2y__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__HDouCIRR46A__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__Al3hxA_-BOo__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__CwVMDBdJz99__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._("__JHASH__5OyIWj-YQ5___JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__m4TBULz6nGb__JHASH__",[h._param("name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__OlufOqEL22J__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__WsnGvhfXA1z__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__-AjaRzqpVqP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9J66m6GILCR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__xMDY8VdzA5b__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__iM5zzplvQK3__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__Bm8ehdh1jFk__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9pVHLxCaDgx__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__Loj0OkThL6V__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__tR4q6c00--C__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__M2dZfT7rhFT__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._("__JHASH__HpovaTJp70W__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._("__JHASH__zbO84srNMHF__JHASH__",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._("__JHASH__31MoZ8hsHC1__JHASH__",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._("__JHASH__5oboVZPgKpA__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__j47-K7rZuN___JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__NNSrUYXKqRz__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__7NL8DHtxILK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__vrGwrec4csR__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__GAoFX2GSYx-__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__f2dqrRKp1Rl__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._("__JHASH__9ZFn8zMzjpf__JHASH__").toString();default:return""}}g.getContactNamesFromContactIDs=a;g.buildLocalizedString=b}),98);
__d("MAWAdminMsg.bs",["MAWAdminMsg","MAWLocalizationType"],(function(a,b,c,d,e,f){"use strict";var g=(e=b("MAWLocalizationType")).CURRENT_USER_SEND_TEXT,h=e.CURRENT_USER_ADDED_DEVICE,i=e.CUTOVER_THREAD_ADMIN_MESSAGE;e=e.E2EE_THREAD_DESCRIPTION;function a(a,c,d){return b("MAWAdminMsg").buildLocalizedString(a,c,d)}function c(a,c){return b("MAWAdminMsg").getContactNamesFromContactIDs(a,c)}function d(a){return b("MAWLocalizationType").isEphemeralSettingSetAdminMsg(a)}f.currentUserSendText=g;f.currentUserAddedDevice=h;f.cutoverThreadAdminMessage=i;f.e2eeThreadAdminMessage=e;f.buildLocalizedString=a;f.getContactNamesFromContactIDs=c;f.isEphemeralSettingSetAdminMsg=d}),null);
__d("MAWFolder.bs",["LSCoreClientFolderType.bs","LsSystemFolder.bs","MAWFolderTypes"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!(a==null)&&a!==b("MAWFolderTypes").INBOX)if(a===b("MAWFolderTypes").PENDING)return"pending";else if(a===b("MAWFolderTypes").OTHER)return"other";else if(a===b("MAWFolderTypes").ARCHIVED)return"";else return"inbox";else return"inbox"}function c(a){if(!(a==null)&&a!==b("MAWFolderTypes").INBOX)if(a===b("MAWFolderTypes").PENDING)return b("LsSystemFolder.bs").pending;else if(a===b("MAWFolderTypes").OTHER)return b("LsSystemFolder.bs").other;else if(a===b("MAWFolderTypes").ARCHIVED)return b("LsSystemFolder.bs").archived;else return b("LsSystemFolder.bs").inbox;else return b("LsSystemFolder.bs").inbox}function d(a){if(!(a==null)&&a!==b("MAWFolderTypes").INBOX)if(a===b("MAWFolderTypes").PENDING)return b("LsSystemFolder.bs").securePending;else if(a===b("MAWFolderTypes").OTHER)return b("LsSystemFolder.bs").secureOther;else if(a===b("MAWFolderTypes").ARCHIVED)return b("LsSystemFolder.bs").secureArchived;else return b("LsSystemFolder.bs").secureInbox;else return b("LsSystemFolder.bs").secureInbox}function e(a){if(a===b("LsSystemFolder.bs").inbox)return b("LsSystemFolder.bs").secureInbox;else if(a===b("LsSystemFolder.bs").pending)return b("LsSystemFolder.bs").securePending;else if(a===b("LsSystemFolder.bs").other)return b("LsSystemFolder.bs").secureOther;else if(a===b("LsSystemFolder.bs").archived)return b("LsSystemFolder.bs").secureArchived;else return b("LsSystemFolder.bs").secureInbox}function g(a){if(a===b("LsSystemFolder.bs").inbox)return b("MAWFolderTypes").INBOX;else if(a===b("LsSystemFolder.bs").pending)return b("MAWFolderTypes").PENDING;else if(a===b("LsSystemFolder.bs").other)return b("MAWFolderTypes").OTHER;else if(a===b("LsSystemFolder.bs").archived)return b("MAWFolderTypes").ARCHIVED;else return b("MAWFolderTypes").INBOX}function h(a){if(!(a==null))if(a===b("MAWFolderTypes").INBOX)return b("LSCoreClientFolderType.bs").inbox;else if(a===b("MAWFolderTypes").PENDING)return b("LSCoreClientFolderType.bs").pending;else if(a===b("MAWFolderTypes").OTHER)return b("LSCoreClientFolderType.bs").other;else if(a===b("MAWFolderTypes").ARCHIVED)return b("LSCoreClientFolderType.bs").archived;else return}f.messagingFolderTag=a;f.systemFolder=c;f.clientSystemFolder=d;f.systemFolderToclientSystemFolder=e;f.systemFolderToFolderId=g;f.systemFolderToLSCoreClientFolder=h}),null);
__d("MAWThreadEvent",["MAWBackendBridge.re","MAWBridge","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){b="placeholderConvertSubscription";function a(a){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(b){var e=b.chatJid;b=b.msgId;a===e&&c("promiseDone")(c("MAWBackendBridge.re").getProtocolMsgIdByMsgId({msgId:b}).sendAndReceive().then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(e,a))}))}})}g.PLACEHOLDER_CONVERT_SUBSCRIPTION=b;g.setThreadEventHandler=a}),98);
__d("MAWThreadEvent.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MAWThreadEvent","MAWThreadId.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){b("MAWThreadEvent").setThreadEventHandler(a)}function c(a){var c=b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative),d=b("useReStore")();h.useEffect(function(){b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&c&&b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a){b("MAWThreadEvent").setThreadEventHandler(a._0);return}}),void 0,void 0)},[JSON.stringify(a.threadKey),JSON.stringify(a.threadType),c,d])}f.setThreadEventHandler=a;f.useHook=c}),null);
__d("MAWAudioUtils",["Promise","err"],(function(a,b,c,d,e,f,g){function a(a){var d=URL.createObjectURL(a);return new(b("Promise"))(function(a,b){var e=new Audio();e.setAttribute("crossOrigin","anonymous");e.addEventListener("loadedmetadata",function(c){c=c.currentTarget;if(c instanceof HTMLAudioElement){c=c.duration;a(Math.ceil(c))}else b("EventTarget returned for event should be HTMLAudioElement")});e.src=d;e.onabort=function(){b(function(){throw c("err")("Error loading audio from provided URL")})};e.onerror=function(){b(function(){throw c("err")("Wrong blob type")})}})}g.getAudioDurationInSeconds=a}),98);
__d("MAWMediaUtils",["MAWDbMedia","MAWGlobals","MAWHMACKey","WAMediaUtils","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};var b=a.split("/")[0];switch(b){case"image":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};default:throw c("err")("get a wrong media file with type "+a)}}function e(a,b){b===void 0&&(b="media");switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return b==="xma-media"?"xma-image":"image";case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return"video";case d("MAWDbMedia").MEDIA_TYPE.PTT:return"ptt";case d("MAWDbMedia").MEDIA_TYPE.GIF:return"gif";case d("MAWDbMedia").MEDIA_TYPE.STICKER:return"sticker";default:throw c("err")("get a wrong media file with type "+a)}}function h(a){try{return d("WAMediaUtils").blobToArrayBuffer(a).then(function(a){return self.crypto.subtle.digest("SHA-256",a)}).then(function(a){return new Uint8Array(a)})}catch(a){throw c("err")("Got "+a+" when convert the blob to Uint8Array")}}function f(a){var c,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(h(a));case 2:c=g.sent;e=d("WAMediaUtils").toPlaintextHash(c);f=i(e);return g.abrupt("return",[e,f]);case 6:case"end":return g.stop()}},null,this)}function i(a){var b=d("MAWGlobals").getHMACKey();return d("WAMediaUtils").toHashedPlaintextHash(d("MAWHMACKey").hmacTweetNaCl(a,b))}g.getMediaTypeAndServerMediaTypeFromBlob=a;g.getServerMediaTypeFromMediaType=e;g.hashBlob=h;g.genBlobHashes=f;g.genHMACPlaintextHash=i}),98);
__d("MAWSendVideoToWorker",["MAWMediaWorkerResource","Promise","WALogger","WebWorker"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clean up media worker"]);h=function(){return a};return a}var i=j();function a(a){var c;return new(b("Promise"))(function(b){c=i&&k(i)?j():i,c.setMessageHandler(function(a){b(a)}).execute(),c.postMessage(a)})["finally"](function(){c&&(d("WALogger").LOG(h()),c.terminate(),(!i||!i.isCurrentState("constructed"))&&(i=j()))})}function j(){return new(c("WebWorker"))(c("MAWMediaWorkerResource")).setAllowCrossPageTransition(!0)}function k(a){return a.isCurrentState("preparing")||a.isCurrentState("executing")}g.sendVideoMessageToWorker=a}),98);
__d("MAWVideoPreProcess",["MAWSendVideoToWorker","Promise","QPLUserFlow","WALogger","err","qpl"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Video preprocess failure: ",""]);h=function(){return a};return a}function i(){c("QPLUserFlow").start(c("qpl")._(25309473,"9188"))}function j(a){c("QPLUserFlow").endFailure(c("qpl")._(25309473,"9188"),"failure_during_video_preprocess"),d("WALogger").ERROR(h(),a)}function k(){c("QPLUserFlow").endSuccess(c("qpl")._(25309473,"9188"))}function a(a,d){return l(a,d).then(function(d){if(!d)return b("Promise").reject(c("err")("invalid file"));d=new File([d.file],a.name,{type:d.file.type});return b("Promise").resolve(d)})}function l(a,b){i();return d("MAWSendVideoToWorker").sendVideoMessageToWorker({type:"prep",file:a,asGif:b}).then(function(a){var b=a.type,d=a.result,e=a.error,f=a.filename;a=a.file;switch(b){case"result":k();return d;case"parsingError":c("err")("trouble parsing file "+a+" (fossil "+f+") "+String(e));a&&c("err")("MediaAnalyzer:checkAndRepair got parsing error! "+String(e));c("err")("MediaAnalyzer:checkAndRepair rejected file ("+String(e)+")");return void 0}})["catch"](function(a){c("err")("MediaAnalyzer:checkAndRepair got error! "+String(a));j(String(a));return void 0})}g.processRawVideo=a}),98);
__d("MAWVideoUtils",["MAWImageUtils","Promise","err","generateVideoThumbnails"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=document.body;if(!e)return new(b("Promise"))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var f=document.createElement("video");return new(b("Promise"))(function(d,g){f.setAttribute("style","display: none"),f.setAttribute("src",URL.createObjectURL(a)),f.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var e=a.videoHeight,h=a.videoWidth;a=a.duration;var i=c("generateVideoThumbnails")(f,h,e,1);d(b("Promise").all([i,h,e,Math.ceil(a)]))}else g("EventTarget returned for event should be HTMLVideoElement")}),e.appendChild(f)}).then(function(a){var b=a[0],c=a[1],g=a[2],h=a[3];e.removeChild(f);return d("MAWImageUtils").canvasToBlob(b.thumbnails[0].getCanvas(),d("MAWImageUtils").TYPE_JPEG,!0).then(function(a){return a.arrayBuffer().then(function(a){return{jpegThumbnail:a,width:c,height:g,duration:h}})})})["catch"](function(a){e.removeChild(f);throw c("err")(a)})}g.getVideoThumbnailUrlAndSpec=a}),98);
__d("MAWCurrentUser",["CurrentUser","FacebookAppIDs","recoverableViolation"],(function(a,b,c,d,e,f,g){var h=Number(c("CurrentUser").getAppID());function a(){if(h===d("FacebookAppIDs").MESSENGERDOTCOM||h===d("FacebookAppIDs").WWW_COMET||h===d("FacebookAppIDs").WWW)return c("CurrentUser").getID();else if(h===d("FacebookAppIDs").INSTAGRAM_WEB||h===d("FacebookAppIDs").INSTAGRAM_WEB_DESKTOP)return c("CurrentUser").getEIMU();else{c("recoverableViolation")("Try to getID from unsupported surface: "+h,"messenger_e2ee_web");return c("CurrentUser").getID()}}g.getID=a}),98);
__d("MAWPushNotificationSetup",["MAWDbMetaTxns","MAWGating.re","MAWIndexedDb","MAWJobDefinitions","MAWTransactionMode","MAWUIJob","ODS","WALogger","XArmadilloWebRegisterPushInfoController","err","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["httpRegisterNotificationDevice: fail to initiate fetch: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["httpRegisterNotificationDevice: fail to parse request body ",""]);i=function(){return a};return a}function a(){var a,c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(d("MAWGating.re").isPushNotificationEnabled()){e.next=2;break}return e.abrupt("return");case 2:d("ODS").bumpEntityKey(3185,"armadillo_push_notification","registration_attempt");e.next=5;return b("regeneratorRuntime").awrap(j());case 5:a=e.sent;e.t0=a.status;e.next=e.t0===200?9:20;break;case 9:e.prev=9;e.next=12;return b("regeneratorRuntime").awrap(a.json());case 12:c=e.sent;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.sendPushNotificationSetup(""+c.appId,c.actDeviceId,"fb"));e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](9),d("WALogger").ERROR(i(),e.t1);case 19:return e.abrupt("return");case 20:return e.abrupt("return");case 21:case"end":return e.stop()}},null,this,[[9,16]])}function j(){var a,e,f,g,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:a=c("XArmadilloWebRegisterPushInfoController").getURIBuilder().getURI().toString();e={};j.next=10;break;f=d("MAWIndexedDb").makeMsgrTransactor({meta:d("MAWTransactionMode").READONLY})(d("MAWDbMetaTxns").getPushMetaData);j.next=6;return b("regeneratorRuntime").awrap(f().then(function(a){return a.deviceUUID}));case 6:g=j.sent;if(!(g==null)){j.next=9;break}throw c("err")("deviceUUID is null, unable to proceed");case 9:e={body:"device_id="+encodeURIComponent(g)};case 10:j.prev=10;j.next=13;return b("regeneratorRuntime").awrap(fetch(a,babelHelpers["extends"]({method:"POST"},e)));case 13:i=j.sent;j.next=20;break;case 16:j.prev=16;j.t0=j["catch"](10);d("WALogger").ERROR(h(),j.t0);throw j.t0;case 20:return j.abrupt("return",i);case 21:case"end":return j.stop()}},null,this,[[10,16]])}g.setupArmadilloPushNotifications=a}),98);
__d("MAWSyncState",["Promise"],(function(a,b,c,d,e,f){var g=!1,h=function(){};a=function(a){g=a};c=new(b("Promise"))(function(a){h=a});d=function(){return h};e=function(){return g};f.setInitSyncExecuted=a;f.waitForInitialSync=c;f.getMarkInitSyncComplete=d;f.getIsInitialSyncComplete=e}),66);/*FB_PKG_DELIM*/
__d("LSAddParticipantToGroupThread",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[0]=d[7])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[7]=c.localizeV2([0,2285622730],f),d[8]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[7],d[8],f)):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("contact_ids",a[1]),d[4].set("sync_group",d[0]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,23],d[6],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[1]=a[0],a})},function(a){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[1])})})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",d[0]),d[2].set("otid",c.i64.to_string(d[1])),d[2].set("source",[0,0]),d[2].set("send_type",[0,8]),a[3]!==f?d[2].set("text",a[3]):0,d[3]=new c.Map(),d[3].set("participants",a[0]),d[3].set("send_payload",d[2]),a[2]!==f?d[3].set("thread_name",a[2]):0,d[4]=d[3].get("send_payload"),d[3],d[5]=d[4].get("thread_id"),d[4],d[6]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,130],d[6],f,f,[0,0],[0,0],[0,1],f,[0,0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("FDSDialogSection.react",["BaseHeading.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={headline:{paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"},headlineWithHorizontalPadding:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},separator:{backgroundColor:"ieb30kwl",height:"ay7djpcl",marginTop:"ku2m03ct",marginBottom:"oud54xpy"}};function a(a){var b=a.align;b=b===void 0?"start":b;var d=a.children,e=a.headline,f=a.headlineWithHorizontalPadding;f=f===void 0?!0:f;a=a.withBottomSeparator;a=a===void 0?!1:a;return h.jsxs(h.Fragment,{children:[e!=null&&h.jsx(c("BaseHeading.react"),{xstyle:[i.headline,f&&i.headlineWithHorizontalPadding],children:h.jsx(c("TetraText.react"),{align:b,type:"headlineEmphasized2",children:e})}),d,a?h.jsx("hr",{className:c("stylex")(i.separator)}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWDialogSection.react",["cr:3242","cr:3243","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(b("cr:3242"))return h.jsx(b("cr:3242"),babelHelpers["extends"]({},a));return b("cr:3243")?h.jsx(b("cr:3243"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPCheckboxListCell.bs",["ix","MDSListCell.react","MWIcon.react","bs_caml_option","fbicon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.checked,d=a.disabled,e=a.content,f=a.addOnStart,h=a.onPress,j=a.xstyle;a=a.iconStyle;a=a!==void 0?a:"square";a=a==="square"?c?b("fbicon")._(g("484757"),20):b("fbicon")._(g("659288"),20):c?b("fbicon")._(g("498146"),20):b("fbicon")._(g("545517"),20);f={addOnStart:f,addOnEnd:i.jsx(b("MWIcon.react"),{icon:a,color:d?"disabled":c?"highlight":"secondary",hideHoverOverlay:!0}),content:e,disabled:d,verticalAlign:"center",size:"medium",onPress:h,"aria-checked":c,role:"checkbox"};j!==void 0&&(f.xstyle=b("bs_caml_option").valFromOption(j));return i.jsx(b("MDSListCell.react"),f)}c=a;f.make=c}),null);
__d("MWAddParticipantDialogResults.bs",["CometMiddot.react","CometProgressRingIndeterminate.react","CometTextWithEntities.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWChatTextTransform.bs","MWPCheckboxListCell.bs","MWProfilePhoto.react","MWText.react","TetraList.react","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return b("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1)}function c(a){var c=a.matchedParticipants,d=a.selectedParticipants,e=a.onToggleParticipant,f=a.disableAllUsers,g=a.disableXACUsers,i=a.hasIgUsers;a=a.showSpinner;a=a!==void 0?a:!1;var j=h.useMemo(function(){return d.some(function(a){return!b("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1)})},[d]);if(c.length===0)return null;else return h.jsxs(b("TetraList.react"),{keyNavOrientation:"vertical",children:[c.map(function(a){var c=d.some(function(c){return b("bs_caml").i64_eq(c.contactId,a.contactId)}),k=i&&!b("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1),l=j&&a.isInstagramAccount;k=k||l;l=g&&a.isInstagramAccount;l=!c&&(l||f||k);if(a.isInstagramAccount){k=a.secondaryName;k=b("bs_caml_option").some(h.jsx(b("MWText.react"),{type:"meta4",numberOfLines:1,children:k!==void 0&&k!==""?h.jsxs(h.Fragment,{children:[k,h.jsx(b("CometMiddot.react"),{}),"Instagram"]}):"Instagram"}))}else k=void 0;var m={headline:h.jsx(b("MWText.react"),{type:"headline4",children:h.jsx(b("CometTextWithEntities.react"),{text:a.name,transforms:[b("MWChatTextTransform.bs").emojiTransform]})}),level:4};k!==void 0&&(m.meta=b("bs_caml_option").valFromOption(k));return h.jsx("div",{children:h.jsx(b("MWPCheckboxListCell.bs").make,{checked:c,disabled:l,content:h.jsx(h.Fragment,{children:h.jsx(b("MDSTextPairing.react"),m)}),addOnStart:h.jsx(b("MWProfilePhoto.react"),{shape:"circle",alt:"",size:36,source:{uri:a.profilePictureUrl}}),onPress:function(c){return b("bs_curry")._1(e,a)}})},b("bs_int64").to_string(a.contactId))}),a?h.jsx(b("MDSRow.react"),{align:"center",children:h.jsx(b("MDSRowItem.react"),{children:h.jsx(b("CometProgressRingIndeterminate.react"),{color:"blue",size:24})})}):null]})}d=c;f.isGxacEligible=a;f.make=d}),null);
__d("LSUseNullstateContacts.bs",["MNetRankType.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,b){var c=b[1],d=a[1];b=b[0].rank-a[0].rank;if(d!==void 0)if(c!==void 0)if(d.score!==c.score)return c.score-d.score;else return b;else return-1;else if(c!==void 0)return 1;else return b}function a(a){var c=b("useReStore")();a=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a,d=c.table("ranking_scores").index("scoreTypeContactId");return(a=b("ReQL.bs")).leftJoin(a.fromTableAscending(c.table("contacts")),a.getKeyRange(a.fromIndexAscending(d),{hd:b("MNetRankType.bs").messengerOmnipickerNullstate,tl:0}))},[c]));return a.sort(i)}f.orderByRankingScoreAndContactRank=i;f.useHook=a}),null);
__d("MWAddParticipantDialogSuggestedContacts.bs",["fbt","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSContactTypeExact.bs","LSMediaUrl.bs","LSUseNullstateContacts.bs","MWAddParticipantDialogResults.bs","MWDialogSection.react","MWLSContactTypeExactUtils.bs","MWVerticalRhythm.bs","MWXacGating.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=a[0];return{contactId:a.id,profilePictureUrl:b("LSMediaUrl.bs").Contact.profilePictureUrl(a),name:a.name,secondaryName:a.secondaryName,isInstagramAccount:b("MWLSContactTypeExactUtils.bs").isIgContact(a),isXacEligible:b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isXacEligible,a),isGroupsXacEligible:b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,a)}}var k=[b("LSContactTypeExact.bs").fbUser,b("LSContactTypeExact.bs").messengerOnly,b("LSContactTypeExact.bs").deactivatedAllowedOnMessenger,b("LSContactTypeExact.bs").messengerKid],l=[b("LSContactTypeExact.bs").igUser].concat(k);function m(a,c){var d=b("LSUseNullstateContacts.bs").useHook(void 0),e=b("MWXacGating.bs").isGroupsEnabled(void 0)&&!a?l:k;return i.useMemo(function(){return d.filter(function(a){var d=a[0];a=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,d);var f=c.some(function(a){return b("bs_caml").i64_eq(a.contactId,d.id)}),g=b("bs_caml").i64_eq(d.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked),h=e.some(function(a){return b("bs_caml").i64_eq(a,d.contactTypeExact)});if(a===!0&&!f&&g)return h;else return!1}).map(j)},[d,c,e])}function a(a){var c=a.threadParticipants,d=a.selectedParticipants,e=a.onToggleParticipant,f=a.isSecure,h=a.disableAllUsers,j=a.disableXACUsers;a=a.hasIgUsers;f=m(f,c).slice(0,30);return i.jsxs(b("MWDialogSection.react"),{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:10}),i.jsx(b("MWAddParticipantDialogResults.bs").make,{matchedParticipants:f,selectedParticipants:d,onToggleParticipant:e,disableAllUsers:h,disableXACUsers:j,hasIgUsers:a})],headline:g._("__JHASH__0s7vhz12ows__JHASH__"),headlineWithHorizontalPadding:!1})}c=a;f.contactToParticipantResult=j;f.allowedContactBase=k;f.allowedContactXac=l;f.useSuggestedContacts=m;f.make=c}),null);
__d("MWAddParticipantDialogSearchResults.bs",["fbt","LSContactBlockedByViewerStatus.bs","LSSearchRequestStatusType.bs","MDSRow.react","MDSRowItem.react","MWAddParticipantDialogResults.bs","MWAddParticipantDialogSuggestedContacts.bs","MWChatTemporarySearchResult.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.searchQueryTrimmed,d=a.threadParticipants,e=a.selectedParticipants,f=a.onToggleParticipant,h=a.disableAllUsers,j=a.disableXACUsers,k=a.hasIgUsers;a=a.isSecure;var l=b("useReStore")(),m=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(l.table("server_search_results")),{hd:c,tl:0})},[l,c]));m=m.filter(function(a){var c=d.some(function(c){return b("bs_caml").i64_eq(c.contactId,b("bs_caml_format").caml_int64_of_string(a.resultId))}),e=b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked);if(c)return!1;else return e}).sort(function(a,c){return b("bs_int64").compare(a.globalIndex,c.globalIndex)}).map(function(a){return{contactId:b("bs_caml_format").caml_int64_of_string(a.resultId),profilePictureUrl:a.profilePicUrl,name:a.displayName,secondaryName:a.contextLine,isInstagramAccount:b("MWChatTemporarySearchResult.bs").checkIsInstagramAccount(a.type_),isXacEligible:a.isInteropEligible,isGroupsXacEligible:a.isGroupsXacEligible}});a=b("MWAddParticipantDialogSuggestedContacts.bs").useSuggestedContacts(a,d);var n=new Set(m.map(function(a){return b("bs_int64").to_string(a.contactId)}));a=a.filter(function(a){var d=a.name.toLowerCase(),e=c.toLowerCase();if(d.includes(e))return!n.has(b("bs_int64").to_string(a.contactId));else return!1});a=a.concat(m);m=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(l.table("search_queries")),{hd:c,tl:0})},[l,c]));if(m!==void 0){var o=m.resultCount;o=o!==void 0?o:b("bs_caml_int64").zero;m=[b("bs_caml").i64_eq(m.statusPrimary,b("LSSearchRequestStatusType.bs").pending),b("bs_caml").i64_eq(m.statusPrimary,b("LSSearchRequestStatusType.bs").complete)&&b("bs_caml").i64_eq(o,b("bs_caml_int64").zero)]}else m=[!1,c===""];return i.jsxs(i.Fragment,{children:[i.jsx(b("MWAddParticipantDialogResults.bs").make,{matchedParticipants:a,selectedParticipants:e,onToggleParticipant:f,disableAllUsers:h,disableXACUsers:j,hasIgUsers:k,showSpinner:m[0]}),m[1]?i.jsx(b("MDSRow.react"),{paddingTop:16,align:"center",children:i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MWText.react"),{type:"meta2",children:g._("__JHASH__O-OgntlYafI__JHASH__")})})}):null]})}c=a;f.make=c}),null);
__d("MWAddParticipantDialogSelectedParticipants.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometImage.react","CometImageContainer.react","CometPressable.react","Locale","MWDialogText.react","MWIcon.react","UserAgent","bs_caml_array","bs_curry","fbicon","react","stylex","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=b("Locale").isRTL(),m=b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera"),n={root:{width:"eb36pdq2"},image:{display:"a8c37x1j",maxWidth:"d2edcug0",minHeight:"sn7ne77z",objectFit:"bixrwtb6"},closeButton:{display:"j83agx80",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",position:"pmk7jnqg",end:"o0s42vec",top:"pixltzyo"},closeButtonIcon:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",backgroundColor:"nred35xi",boxShadow:"akv41dx8",height:"jnigpg78",width:"odw8uiq3"}};function o(a){var c=a.profilePictureUrl,d=a.name,e=a.onPressClose;a=a.style;return k.jsxs(b("CometColumn.react"),{align:"center",paddingVertical:8,style:a,xstyle:[n.root],children:[k.jsxs(b("CometColumnItem.react"),{children:[k.jsx(b("CometImageContainer.react"),{shape:"circle",size:40,children:k.jsx(b("CometImage.react"),{alt:d,src:c,xstyle:[n.image]})}),k.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__QuGE2GT8Nc6__JHASH__",[g._param("participant name",d)]).toString(),onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayDisabled:!0,xstyle:function(a){return[n.closeButton]},children:k.jsx("div",{className:(j||(j=b("stylex")))(n.closeButtonIcon),children:k.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("478231"),12),color:"secondary"})})})]}),k.jsx(b("CometColumnItem.react"),{paddingTop:8,children:k.jsx(b("MWDialogText.react"),{align:"center",type:"meta",numberOfLines:2,children:d})})]})}c={styles:n,make:o};function p(a){var c=-1,d=a.length-1|0;while(d>=0&&c===-1){var e=b("bs_caml_array").get(a,d);e[1].isTombstoned?d=d-1|0:c=d}return c}var q={root:{height:"nk2mf3y2",width:"k4urcfbm",overflowY:"stjgntxs",overflowX:"d76ob5m9",position:"l9j0dhe7"},nullstate:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"}};function a(a){var c=a.participantsAndTombstones,d=a.onRemoveParticipant,e=k.useRef(null),f=c.filter(function(a){return!a[1].isTombstoned}).length,h=b("usePrevious")(f);k.useEffect(function(){var a=h==null?!1:f>h;if(a){a=e.current;if(!(a==null)){var b=a.scrollWidth;a.scrollTo({top:0,left:b*(l?-1:1),behavior:m?"smooth":"instant"})}}},[f,h]);if(f===0)a=k.jsx(b("MWDialogText.react"),{type:"meta",children:g._("__JHASH__AxVMjZyTjJ9__JHASH__")});else{var i={contents:0},n=p(c);a=c.map(function(a,c){var e=a[1],f=e.isTombstoned,g=a[0];f&&(i.contents=i.contents+1|0);a=(c-i.contents|0)*78*(l?-1:1);var h=c===n;return k.jsx(o,{profilePictureUrl:g.profilePictureUrl,name:g.name,onPressClose:function(a){return b("bs_curry")._2(d,g.contactId,h)},style:{position:"absolute",opacity:f?"0":"1",transition:m?"transform .25s":"none",transform:"translate("+String(a)+"px, 0)",pointerEvents:f?"none":"auto"}},String(e.key))})}return k.jsx("div",{ref:function(a){e.current=a},className:(j||(j=b("stylex")))(q.root,f===0?q.nullstate:!1),children:a})}d=a;f.isRTL=l;f.shouldAnimate=m;f.Item=c;f.getLastItemIdx=p;f.styles=q;f.make=d}),null);
__d("MWAddParticipantDialogSubmitButton.bs",["fbt","MWButton.react","MWPActor.bs","bs_caml","bs_curry","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.participants,e=a.label,f=a.onSubmit;a=a.disabled;var h=b("MWPActor.bs").useActor(void 0);d=d.find(function(a){return b("bs_caml").i64_eq(a.contactId,h)});var j;if(d!==void 0){d=d.isAdmin;j=d!==void 0&&d?!0:!1}else j=!1;d=c.needsAdminApprovalForNewParticipant;var k=d!==void 0?d:!1,l=b("useCometConfirmationDialog")();return i.jsx(b("MWButton.react"),{disabled:a,label:e,onPress:function(a){if(k&&!j)return b("bs_curry")._3(l,{body:g._("__JHASH__zQ7DUo5Qxx7__JHASH__"),title:g._("__JHASH__PX4jHCQJ6FC__JHASH__")},function(a){return b("bs_curry")._1(f,void 0)},function(a){});else return b("bs_curry")._1(f,void 0)},testid:"add-participant-dialog-submit-button"})}c=a;f.make=c}),null);
__d("MWPCreateThread.bs",["LS.bs","LSAuthorityLevel.bs","LSCreateGroupThreadWithAdminText","LSTransaction.bs","LSVec","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_option","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d,e){return b("LSTransaction.bs").run(c,function(c){return b("LSCreateGroupThreadWithAdminText")(b("LSVec").make(a),void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,b("LS.bs").make(c))},"readWrite").then(function(a){var d=a[0];return new(b("Promise"))(function(e,a){a=b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("threads").index("clientThreadKey")),{hd:d,tl:0});var f={contents:function(a){}},g=function(a){if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(f.contents,void 0);return e(a)}};f.contents=b("SortedAsyncIterable.bs").subscribe(a,function(a,b){if(typeof b==="number")return;else return g(b._0)});b("promiseDone")(b("ReQL.bs").firstExn(a),g)})})}},[c])}f.useHook=a}),null);
__d("UseIncrementingId.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(0);return h.useCallback(function(a){a=b.current;b.current=a+1|0;return a},[b])}f.useGenId=a}),null);
__d("MWAddParticipantDialog.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometScrollableArea.react","CometTextInputWithIcon.react","FBID.bs","LS.bs","LSAddParticipantToGroupThread","LSClearTables","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSIssueSearchQuery","LSMessagingThreadTypeUtil.bs","LSSearchGranularSurfaceType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","LSVec","MWAddParticipantDialogSearchResults.bs","MWAddParticipantDialogSelectedParticipants.bs","MWAddParticipantDialogSubmitButton.bs","MWAddParticipantDialogSuggestedContacts.bs","MWButton.react","MWCardedDialog.react","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWPActor.bs","MWPCreateThread.bs","MWText.react","MWV2OpenTabOrThread.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MWVerticalRhythm.bs","MWXacGating.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","Promise","ReQL.bs","ReQLSubscription.bs","UseIncrementingId.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:1573","cr:3684","cr:9835","fbicon","promiseDone","react","recoverableViolation","requestIdleCallback","useDebouncedValue","useReStore","useUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForThread,l=b("cr:3684")==null?void 0:b("bs_caml_option").some(b("cr:3684")),m={root:{height:"jlycob7n"},footer:{boxShadow:"m5meebzi"},footerForMessengerDotCom:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"}};function n(a,c,d,e,f){var g=b("MWPCreateThread.bs").useHook(void 0),h=b("MWV2OpenTabOrThread.bs").useHook(void 0);a=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addXacUsers,a);c=c&&!a;a=j.useCallback(function(a){a=b("bs_curry")._3(g,d.concat(e.map(function(a){return a.contactId})),void 0,void 0);a.then(function(a){b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").CREATE_THREAD}});b("bs_curry")._3(h.openTabOrInbox,void 0,{threadKey:a.threadKey,clientThreadKey:a.clientThreadKey,threadType:a.threadType},"addMembersCreateGroup");b("bs_curry")._1(f,void 0);return b("Promise").resolve(void 0)})},[g,d,e,h,f]);if(c)return a}function o(a){var c=a.thread,d=a.onClose,e=a.onAddParticipants,f=b("useReStore")(),i=c.threadKey;a=j.useState(function(){return""});var l=a[1];a=a[0];var o=a.trim(),p=b("useDebouncedValue")(o,200),q=j.useState(function(){return[]}),r=q[1];q=q[0];var s=q.filter(function(a){return!a[1].isTombstoned}).map(function(a){return a[0]}),t=b("UseIncrementingId.bs").useGenId(void 0),u=b("useUniqueID")(),v=j.useCallback(function(a){return b("LSTransaction.bs").run(f,function(a){return b("LSClearTables")(b("LS.bs").make(a))},"readWrite")},[f]);j.useEffect(function(){b("promiseDone")(b("bs_curry")._1(v,void 0),void 0,void 0);return function(a){b("requestIdleCallback")(function(a){b("promiseDone")(b("bs_curry")._1(v,void 0),void 0,void 0)},void 0)}},[]);var w=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),x=j.useMemo(function(){return s.map(function(a){return a.contactId})},[s]),y=j.useCallback(function(a){b("bs_curry")._1(e,x);b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").ADD_PARTICIPANT,thread_fbid:b("FBID.bs").ofStringExn(b("bs_int64").to_string(i))}});return b("bs_curry")._1(d,void 0)},[f,c,i,w,x,d]),z=j.useCallback(function(a){return b("LSTransaction.bs").run(f,function(c){return b("LSIssueSearchQuery")(a,b("LSVec").make(b("MWXacGating.bs").isGroupsEnabled(void 0)&&!w?b("MWLSSearchIssueSearchQuerySupportedTypes.bs").addParticipantXac:b("MWLSSearchIssueSearchQuerySupportedTypes.bs").addParticipantBase),u,b("LSSearchGranularSurfaceType.bs").omnipicker,void 0,void 0,b("LS.bs").make(c))},"readWrite")},[f,u,w]);j.useEffect(function(){p!==""&&b("promiseDone")(b("bs_curry")._1(z,p),void 0,void 0)},[p]);var A=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("participants")),{hd:i,tl:0})},[f,JSON.stringify(i)])),B=function(a){return b("bs_curry")._1(r,function(c){return c.map(function(c){var d=c[0];if(b("bs_caml").i64_eq(d.contactId,a))return[d,{key:c[1].key,isTombstoned:!0}];else return c})})},C=function(a,c){var d=s.some(function(c){return b("bs_caml").i64_eq(c.contactId,a)});if(d)if(c)return B(a);else return b("bs_curry")._1(r,function(c){return c.filter(function(c){return b("bs_caml").i64_neq(c[0].contactId,a)})});else{b("recoverableViolation")("tried to remove non-selected participant","messenger_web_product");return}},D=function(a){var c=s.some(function(c){return b("bs_caml").i64_eq(c.contactId,a.contactId)});if(c)return B(a.contactId);else return b("bs_curry")._1(r,function(c){return c.concat([[a,{key:b("bs_curry")._1(t,void 0),isTombstoned:!1}]])})},E=g._("__JHASH__WMVITXZaerO__JHASH__"),F=g._("__JHASH__kJ9Y4StcCKr__JHASH__"),G=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){var a;return(a=b("ReQL.bs")).filter(a.mergeJoin(a.getKeyRange(a.fromTableAscending(f.table("participants")),{hd:i,tl:0}),a.fromTableAscending(f.table("contacts"))),function(a){return b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,a[1])!==!0})},[f,JSON.stringify(i)]))!==void 0,H=b("bs_curry")._2(k,c,s),I=H[0];H=H[1]||G||!b("MWXacGating.bs").isGroupsEnabled(void 0);G=j.useMemo(function(){return s.some(function(a){return a.isInstagramAccount})},[s]);var J=n(c,G,x,A,d);G=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addXacUsers,c)||G;return j.jsx(b("MWCardedDialog.react"),{title:E,withCloseButton:!0,onClose:d,children:j.jsxs(b("CometColumn.react"),{xstyle:[m.root],children:[j.jsxs(b("CometColumnItem.react"),{children:[j.jsx(b("CometTextInputWithIcon.react"),{icon:b("fbicon")._(h("491282"),16),iconColor:"tertiary",label:F,value:a,onChange:function(a){a=a.target.value;var c=a==null?"":a;return b("bs_curry")._1(l,function(a){return c})},placeholder:F,autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:!0,spellCheck:!1}),I&&b("MWXacGating.bs").isGroupsEnabled(void 0)?j.jsxs(j.Fragment,{children:[j.jsx(b("MWVerticalRhythm.bs").make,{height:10}),j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:g._("__JHASH____m4bWP_4pT__JHASH__"),testid:"mw_participant_dialog_group_limit_reached"})]}):null]}),j.jsx(b("CometColumnItem.react"),{paddingHorizontal:16,paddingTop:16,children:j.jsx(b("MWAddParticipantDialogSelectedParticipants.bs").make,{participantsAndTombstones:q,onRemoveParticipant:C})}),j.jsx(b("CometColumnItem.react"),{expanding:!0,children:j.jsx(b("CometScrollableArea.react"),{horizontal:!1,expanding:!0,children:o!==""?j.jsx(b("MWAddParticipantDialogSearchResults.bs").make,{searchQueryTrimmed:o,threadParticipants:A,selectedParticipants:s,onToggleParticipant:D,disableAllUsers:I,disableXACUsers:H,hasIgUsers:G,isSecure:w}):j.jsx(b("MWAddParticipantDialogSuggestedContacts.bs").make,{threadParticipants:A,selectedParticipants:s,onToggleParticipant:D,isSecure:w,disableAllUsers:I,disableXACUsers:H,hasIgUsers:G})})}),j.jsx(b("CometColumnItem.react"),{paddingTop:16,children:J!==void 0?j.jsx(b("MWButton.react"),{disabled:s.length===0,label:g._("__JHASH__Z7JFtna4S6g__JHASH__"),onPress:J,testid:"mw_add_group_button_in_dialog"}):j.jsx(b("MWAddParticipantDialogSubmitButton.bs").make,{thread:c,participants:A,label:E,onSubmit:y,disabled:s.length===0})})]})})}c={make:o};function p(a){var c=a.thread;a=a.onClose;if(b("cr:9835")==null){b("bs_curry")._1(a,void 0);b("recoverableViolation")("Unable to load component required for Add\n    Participant Dialog","messenger_web_product");return null}var d=b("bs_curry")._1(b("cr:9835").createAddParticipantsCallback,c);return j.jsx(o,{thread:c,onClose:a,onAddParticipants:d})}d={make:p};function q(a){var c=a.thread;a=a.onClose;var d=b("useReStore")(),e=c.threadKey,f=b("MWPActor.bs").useActor(void 0),g=j.useCallback(function(a){return b("LSTransaction.bs").run(d,function(c){return b("LSAddParticipantToGroupThread")(e,b("LSVec").make(a),b("LS.bs").make(c))},"readWrite").then(function(g){if(b("cr:3684")==null)return b("Promise").resolve(void 0);else return b("MWV2UseAreThreadContactsDualSendEligible.bs").getEligibleContacts(d,f,e,c.threadType).then(function(c){var d=new Set(c.map(function(a){return b("bs_int64").to_string(a.id)}));c=a.filter(function(a){return d.has(b("bs_int64").to_string(a))});return b("bs_curry")._2(l.addParticipantsToShadowGroup,e,c)})})},[d,JSON.stringify(e)]);return j.jsx(o,{thread:c,onClose:a,onAddParticipants:g})}e={make:q};function a(a){var c=a.thread;a=a.onClose;var d=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);if(d)return j.jsx(p,{thread:c,onClose:a});else return j.jsx(q,{thread:c,onClose:a})}a=a;f.$MAWDualSendGroupMembershipManagement$requireCond=b("cr:3684");f.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");f.styles=m;f.MWAddParticipantDialogImpl=c;f.$MAWAddGroupParticipantsUtils$requireCond=b("cr:9835");f.MWAddParticipantDialogSecure=d;f.MWAddParticipantDialogOpen=e;f.make=a}),null);
__d("MWAddParticipantDialogForJSResource.react",["MWAddParticipantDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWAddParticipantDialog.bs").make}),98);/*FB_PKG_DELIM*/
__d("MAWBumpThread.bs",["ODS","Promise","ReQL.bs","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c!==void 0){var h=g!==void 0?g:c.snippetSenderContactId;c=b("bs_caml_obj").caml_obj_dup(c);return a.table("threads").put((c.snippetSenderContactId=h,c.snippet=f,c.lastReadWatermarkTimestampMs=e,c.lastActivityTimestampMs=d,c))}b("ODS").bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");return b("Promise").resolve(void 0)})}f.threadMutation=a}),null);
__d("LSContactUserBlockAction.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.mnUnblock=a;f.mnBlock=c;f.fbUnblock=d;f.fbBlock=e}),null);
__d("MAWBlockUtils.bs",["LSContactUserBlockAction.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_obj","bs_caml_option","promiseDone","useReStore"],(function(a,b,c,d,e,f){"use strict";var g=[(c=b("LSThreadCapabilityBitOffset.bs")).payment,c.locationSharing,c.createGroup,c.roomCreation,c.filePicker,c.selfieSticker,c.rtcVideoCall,c.rtcVoiceCall,c.createGroup,c.muteThread,c.restrictContact],h=[c.payment,c.locationSharing,c.createGroup,c.roomCreation,c.filePicker,c.selfieSticker,c.rtcVideoCall,c.rtcVoiceCall,c.createGroup,c.muteThread,c.restrictContact,c.threadDetailsProfileButton,c.inThreadProfileButton],i=[c.createGroup,c.muteThread,c.restrictContact,c.filePicker];function a(a){var c=b("useReStore")();return function(a,d){var e;e=(e=b("ReQL.bs")).first(e.filter(e.map(e.filter(e.fromTableAscending(c.table("participants")),function(c){return b("bs_caml").i64_eq(c.contactId,a)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadKey,tl:0}))}),function(a){if(a!==void 0)return b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1})).then(function(a){if(a===void 0)return b("Promise").resolve(void 0);var e=b("bs_caml_option").valFromOption(a);if(e===void 0)return b("Promise").resolve(void 0);a=b("bs_caml").i64_eq(d,b("LSContactUserBlockAction.bs").mnBlock)?b("LSThreadBitOffset.bs").clear(g,e.capabilities,e.capabilities2,e.capabilities3):b("bs_caml").i64_eq(d,b("LSContactUserBlockAction.bs").fbBlock)?b("LSThreadBitOffset.bs").clear(h,e.capabilities,e.capabilities2,e.capabilities3):b("LSThreadBitOffset.bs").set(i,e.capabilities,e.capabilities2,e.capabilities3);var f=a[1],j=a[0];a=b("LSTransaction.bs").run(c,function(a){var c=b("bs_caml_obj").caml_obj_dup(e);return a.table("threads").put((c.capabilities2=f,c.capabilities=j,c))},"readWrite");b("promiseDone")(a,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(e,void 0,void 0)}}f.clearedMnBlockCapabilities=g;f.clearedFbBlockCapabilities=h;f.setBlockCapabilities=i;f.useHook=a}),null);
__d("MAWMessengerRestrictUtils.bs",["LSContactMessengerRestrictAction.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_obj","bs_caml_option","promiseDone","useReStore"],(function(a,b,c,d,e,f){"use strict";var g=[(c=b("LSThreadCapabilityBitOffset.bs")).payment,c.locationSharing,c.createGroup,c.roomCreation,c.filePicker,c.selfieSticker,c.rtcVideoCall,c.rtcVoiceCall,c.createGroup,c.muteThread],h=[c.createGroup,c.muteThread,c.filePicker];function a(a){var c=b("useReStore")();return function(a,d){var e;e=(e=b("ReQL.bs")).first(e.filter(e.map(e.filter(e.fromTableAscending(c.table("participants")),function(c){return b("bs_caml").i64_eq(c.contactId,a)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadKey,tl:0}))}),function(a){if(a!==void 0)return b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1})).then(function(a){if(a===void 0)return b("Promise").resolve(void 0);var e=b("bs_caml_option").valFromOption(a);if(e===void 0)return b("Promise").resolve(void 0);a=b("bs_caml").i64_eq(d,b("LSContactMessengerRestrictAction.bs").restrict)?b("LSThreadBitOffset.bs").clear(g,e.capabilities,e.capabilities2,e.capabilities3):b("LSThreadBitOffset.bs").set(h,e.capabilities,e.capabilities2,e.capabilities3);var f=a[2],i=a[1],j=a[0];a=b("LSTransaction.bs").run(c,function(a){var c=b("bs_caml_obj").caml_obj_dup(e);return a.table("threads").put((c.capabilities3=f,c.capabilities2=i,c.capabilities=j,c))},"readWrite");b("promiseDone")(a,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(e,void 0,void 0)}}f.clearedMnRestrictCapabilities=g;f.setMnRestrictCapabilities=h;f.useHook=a}),null);
__d("MAWUpdateLSThreadCapabilities.bs",["fbt","LSAuthorityLevel.bs","LSBitOffset.bs","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWBackendBridge.bs","MAWBlockUtils.bs","MAWContact.bs","MAWCurrentUser","MAWGating.bs","MAWMessageRequestUtil.bs","MAWMessengerRestrictUtils.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MAWCurrentUser").getID(),i=b("bs_caml_format").caml_int64_of_string(h);function a(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("LSBitOffset.bs").set(b("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=b("bs_caml_obj").caml_obj_dup(c);return a.table("threads").put((c.capabilities=d,c))}).then(function(a){})}function c(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("LSBitOffset.bs").clear(b("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=b("bs_caml_obj").caml_obj_dup(c);return a.table("threads").put((c.capabilities=d,c))}).then(function(a){})}function d(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(d){if(d===void 0)return b("Promise").resolve([void 0,void 0]);var e=b("ReQL.bs").first(b("LSMessagingThreadTypeUtil.bs").isOneToOne(d.threadType)?b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("participants")),{hd:c,tl:0}),b("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return b("bs_caml").i64_neq(a[1].id,i)}),function(a){return a[1]}):b("SortedAsyncIterable.bs").empty(void 0));return b("Promise").all([b("Promise").resolve(d),e])}).then(function(c){var d=c[0];if(d===void 0)return b("Promise").resolve(void 0);c=c[1];if(c===void 0)return b("Promise").resolve(void 0);var e=b("bs_caml").i64_eq(c.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").messageBlocked),f=b("bs_caml").i64_eq(c.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").fullyBlocked);c=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,c),!1);f=f?b("LSThreadBitOffset.bs").clear(b("MAWBlockUtils.bs").clearedFbBlockCapabilities,d.capabilities,d.capabilities2,d.capabilities3):e?b("LSThreadBitOffset.bs").clear(b("MAWBlockUtils.bs").clearedMnBlockCapabilities,d.capabilities,d.capabilities2,d.capabilities3):c?b("LSThreadBitOffset.bs").clear(b("MAWMessengerRestrictUtils.bs").clearedMnRestrictCapabilities,d.capabilities,d.capabilities2,d.capabilities3):[d.capabilities,d.capabilities2,d.capabilities3];e=b("bs_caml_obj").caml_obj_dup(d);return a.table("threads").put((e.capabilities3=f[2],e.capabilities2=f[1],e.capabilities=f[0],e)).then(function(a){})})}function e(a,c,d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d,tl:0})).then(function(e){if(e===void 0)return b("Promise").resolve([void 0,void 0,void 0]);var f=b("ReQL.bs").first(b("LSMessagingThreadTypeUtil.bs").isOneToOne(e.threadType)?b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("participants")),{hd:d,tl:0}),b("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return b("bs_caml").i64_neq(a[1].id,i)}),function(a){return a[1]}):b("SortedAsyncIterable.bs").empty(void 0)),g=b("LSMessagingThreadTypeUtil.bs").isOneToOne(e.threadType)?b("bs_curry")._1(b("MAWBackendBridge.bs").getContact({fbid:c}).sendAndReceive,void 0).then(function(a){return a.relationship}):b("Promise").resolve(void 0);return b("Promise").all([b("Promise").resolve(e),f,g])}).then(function(c){var d=c[0];if(d===void 0)return b("Promise").resolve(void 0);var e=c[1];if(e===void 0)return b("Promise").resolve(void 0);c=c[2];if(c===void 0)return b("Promise").resolve(void 0);c=b("bs_caml").i64_neq(e.authorityLevel,b("LSAuthorityLevel.bs").authoritative)?c:b("MAWContact.bs").lsContactToContactRelationshipType(e);if(d.folderName==="pending"||d.folderName==="other"||d.folderName==="inbox"&&c!==b("MAWContact.bs").twoWayContact&&c!==b("MAWContact.bs").oneWayContact&&b("bs_caml").i64_neq(d.lastActivityTimestampMs,b("bs_caml_int64").zero)){e=b("LSThreadBitOffset.bs").clear(b("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest,d.capabilities,d.capabilities2,d.capabilities3);c=b("MAWGating.bs").isEyebrowTextEnabled(void 0)&&d.folderName==="inbox"?g._("__JHASH__4F6x7gUU1-S__JHASH__").toString():void 0;e=[b("LSThreadBitOffset.bs").set(b("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,e[0],e[1],e[2]),c]}else e=[[d.capabilities,d.capabilities2,d.capabilities3],void 0];c=e[0];d=b("bs_caml_obj").caml_obj_dup(d);return a.table("threads").put((d.capabilities3=c[2],d.capabilities2=c[1],d.additionalThreadContext=e[1],d.capabilities=c[0],d)).then(function(a){})})}function j(a,c){var d=b("LSThreadBitOffset.bs").clear(b("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3);d=b("LSThreadBitOffset.bs").set(b("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest,d[0],d[1],d[2]);c=b("bs_caml_obj").caml_obj_dup(c);return a.table("threads").put((c.capabilities3=d[2],c.capabilities2=d[1],c.additionalThreadContext=void 0,c.capabilities=d[0],c)).then(function(a){})}function k(a,c,d){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve([void 0,void 0]);var e=b("ReQL.bs").first(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(a.table("contacts")),function(a){return b("bs_caml").i64_eq(a.id,d)}));return b("Promise").all([b("Promise").resolve(c),e])}).then(function(c){var d=c[0];if(d===void 0)return b("Promise").resolve(void 0);c=c[1];if(c===void 0)return b("Promise").resolve(void 0);c=g._("__JHASH__UJFQkCMRFkv__JHASH__",[g._param("Inviter Name",c.name)]).toString();var e=b("LSThreadBitOffset.bs").set([b("LSThreadCapabilityBitOffset.bs").messageRequestGroupInvite],d.capabilities,d.capabilities2,d.capabilities3);d=b("bs_caml_obj").caml_obj_dup(d);return a.table("threads").put((d.capabilities3=e[2],d.capabilities2=e[1],d.capabilities=e[0],d.snippet=c,d))}).then(function(a){})}function l(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve(void 0);var d=b("LSThreadBitOffset.bs").clear([b("LSThreadCapabilityBitOffset.bs").messageRequestGroupInvite],c.capabilities,c.capabilities2,c.capabilities3);c=b("bs_caml_obj").caml_obj_dup(c);return a.table("threads").put((c.capabilities3=d[2],c.capabilities2=d[1],c.capabilities=d[0],c.snippet=void 0,c))}).then(function(a){})}f.currentUserId=h;f.currentUserIdAsInt64=i;f.enableAddMembersTxn=a;f.disableAddMembersTxn=c;f.disableBlockerCapabilitiesTxn=d;f.updateMessageRequestThreadTxn=e;f.updateNonMessageRequestThreadTxn=j;f.setGroupInviteTxn=k;f.clearGroupInviteTxn=l}),null);
__d("MAWEBSwitch",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.set=function(a){this.$1=a;return this.$1};b.isEnabled=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("LSMessageViewFlag.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,8];var g=[0,16],h=[0,256],i=[0,1024],j=[0,2048],k=[0,4096],l=[0,8192],m=[0,16384],n=[0,524288],o=[0,1048576],p=[0,2097152],q=[0,8388608],r=[0,16777216],s=[0,33554432];f.uncalculated=a;f.showProfileImage=c;f.showTimestamp=d;f.showSender=e;f.connectTop=b;f.connectBottom=g;f.statusSending=h;f.statusDelivered=i;f.statusReadBy=j;f.statusReadByExcept=k;f.statusReadByAll=l;f.statusRead=m;f.isSendError=n;f.statusSent=o;f.isHotLike=p;f.isLocalMessage=q;f.isForwardedMedia=r;f.statusReadByAndMore=s}),null);/*FB_PKG_DELIM*/
__d("MWCardedDialog.react",["cr:12313","cr:2383","cr:278","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,c){var d=a.callToActionGroupDirection;d=d===void 0?"backward":d;var e=a.callToActionGroupLayout;e=e===void 0?"default":e;var f=a.children,g=a.hasTextOnlyContent,i=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;i=i===void 0?!0:i;var j=a.primaryCallToAction,k=a.secondaryCallToAction,l=a.titleWithEntities;a=babelHelpers.objectWithoutPropertiesLoose(a,["callToActionGroupDirection","callToActionGroupLayout","children","hasTextOnlyContent","includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION","primaryCallToAction","secondaryCallToAction","titleWithEntities"]);if(b("cr:278")&&b("cr:2383"))return h.jsx(b("cr:278"),babelHelpers["extends"]({},a,{ref:c,titleWithEntities:l,children:h.jsx(b("cr:2383"),{callToActionGroupDirection:d,callToActionGroupLayout:e,hasTextOnlyContent:g,includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:i,primaryCallToAction:j,secondaryCallToAction:k,children:f})}));return b("cr:12313")?h.jsx(b("cr:12313"),babelHelpers["extends"]({},a,{callToActionGroupDirection:d,hasTextOnlyContent:g,primaryCallToAction:j,ref:c,secondaryCallToAction:k,children:f})):null}a.displayName=a.name+" [from "+f.id+"]";c=h.forwardRef(a);g["default"]=c}),98);
__d("GroupsCometSingleActionWithCancelButtonDialog.react",["fbt","MWCardedDialog.react","TetraButton.react","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b,d,e;b=(b=a.buttonMargins)!=null?b:"wide";d=(d=a.titleHorizontalAlignment)!=null?d:"start";return i.jsx(c("MWCardedDialog.react"),{includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,onClose:(e=a.onClose)!=null?e:a.onCancel,size:a.size,title:a.title,titleHorizontalAlignment:d,withCloseButton:!0,children:i.jsxs("div",{className:a.isFullbleed!==!0?"dati1w0a ofv0k9yr hv4rvrfc aodizinl":"",children:[a.children,i.jsxs("div",{className:c("stylex")({"align-items-1":"bp9cbjyn","display-1":"j83agx80","justify-content-1":"bkfpd7mw"},a.isFullbleed===!0&&b==="wide"?{"margin-top-1":"kvgmc6g5","margin-end-1":"nhadk0th","margin-bottom-1":"c9zspvje","margin-start-1":"t7yuvbsa"}:null,b===16?{"margin-top-1":"tr9rh885","margin-end-1":"wkznzc2l","margin-bottom-1":"sjgh65i0","margin-start-1":"dhix69tm"}:null),children:[a.footerText!=null&&i.jsx("div",{className:"jifvfom9 j83agx80",children:i.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:a.footerText})}),i.jsx("div",{children:i.jsx(c("TetraButton.react"),{disabled:a.cancelButtonDisabled,label:(e=a.secondaryButtonLabel)!=null?e:h._("__JHASH__ko1T7DvDF-J__JHASH__"),onPress:function(){a.onCancel(),a.onCancelLog&&a.onCancelLog()},reduceEmphasis:!0,testid:void 0,type:"secondary"})}),i.jsx("div",{className:"h676nmdw",children:i.jsx(c("TetraButton.react"),{disabled:a.primaryButtonDisabled,label:a.primaryButtonLabel,onPress:function(){a.onSubmit(),a.onConfirmLog&&a.onConfirmLog()},padding:"wide",testid:void 0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";a.ScrollableSection=function(a){return i.jsx("div",{className:"l9j0dhe7 eg9m0zos m8pd07jg sjgh65i0 linmgsc8",children:a.children})};a.Divider=function(a){return i.jsx("hr",{className:"hcukyx3x tvmbv18p cxmmr5t8 aahdfvyu ieb30kwl"})};g["default"]=a}),98);
__d("FDSDialogPage.react",["CometProgressRingIndeterminate.react","CometRow.react","CometRowItem.react","TetraButton.react","TetraButtonGroup.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={content:{paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"l9j0dhe7"},footer:{display:"j83agx80",flexDirection:"btwxx1t3",justifyContent:"bkfpd7mw",paddingBottom:"ihqw7lf3"},noPaddingBottom:{paddingBottom:"qt6c0cv9"},textOnlyContent:{paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"}};function a(a){var b=a.callToActionGroupDirection;b=b===void 0?"backward":b;var d=a.callToActionGroupLayout;d=d===void 0?"default":d;var e=a.children,f=a.hasTextOnlyContent,g=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;g=g===void 0?!0:g;var j=a.primaryCallToAction;a=a.secondaryCallToAction;b=j!=null?h.jsx(c("TetraButtonGroup.react"),{direction:b,expanding:d==="expanded"||a==null,paddingHorizontal:16,primary:{addOnPrimary:j.loading===!0?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16}):void 0,disabled:j.disabled===!0||j.loading,label:j.label,linkProps:j.linkProps,onPress:j.onPress,testid:j.testid,type:(j==null?void 0:j.type)==="destructive"?"fdsOverride_negative":"primary"},secondary:a!=null?{disabled:a.disabled,label:a.label,linkProps:a.linkProps,onPress:a.onPress,reduceEmphasis:d==="default",testid:a.testid}:null}):a!=null?h.jsx(c("CometRow.react"),{expanding:!0,paddingHorizontal:16,paddingTop:16,children:h.jsx(c("CometRowItem.react"),{expanding:!0,children:h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{type:"secondary"}))})}):null;return g===!0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")([i.content,f===!0&&i.textOnlyContent,f!==!0&&b!=null&&i.noPaddingBottom]),children:e}),b!=null&&h.jsx("div",{className:c("stylex")(i.footer),children:b})]}):h.jsxs(h.Fragment,{children:[e,b!=null&&h.jsx("div",{className:c("stylex")(i.footer),children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWDialogContentTypeValues",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("571")?4:3;b=c("gkx")("571")?"headlineEmphasized4":"headlineEmphasized2";d=c("gkx")("571")?"body4":"body3";e=c("gkx")("571")?"bodyLink4":"bodyLink3";f=c("gkx")("571")?"meta4":"meta3";g.textPairingLevel=a;g.textHeadlineType=b;g.textBodyType=d;g.textBodyLinkType=e;g.textMetaType=f}),98);
__d("MWDialogText.react",["MWDialogContentTypeValues","MWText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.type;e=e===void 0?"body":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","type"]);switch(e){case"bodyLink":return h.jsx(c("MWText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textBodyLinkType},a,{children:b}));case"headlineEmphasized":return h.jsx(c("MWText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textHeadlineType},a,{children:b}));case"meta":return h.jsx(c("MWText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textMetaType},a,{children:b}))}return h.jsx(c("MWText.react"),babelHelpers["extends"]({type:d("MWDialogContentTypeValues").textBodyType},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatDeleteConversationDialog.bs",["fbt","LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWCMThreadTypes.bs","MWCardedDialog.react","MWDialogText.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onClose,d=a.onDeleteConversation;a=a.thread;a=a!==void 0?[b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),a.threadName,b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)]:[!1,void 0,!1];var e=a[1],f=a[0];e=e!==void 0?'"'+e+'"':"this thread";var h=f?g._("__JHASH__GMqOWhYus5o__JHASH__",[g._param("threadName",e)]):g._("__JHASH__9Hx8h3Llibh__JHASH__");f=f?g._("__JHASH__8a4RhqlDTLX__JHASH__",[g._param("threadName",e)]):a[2]&&!b("MAWGating.bs").isAppSyncDeleteThreadEnabled(void 0)?g._("__JHASH__NK7GSuDfOXQ__JHASH__"):g._("__JHASH__3GuNoaSICM-__JHASH__");return i.jsx(b("MWCardedDialog.react"),{title:h,withCloseButton:!0,onClose:c,children:i.jsx(b("MWDialogText.react"),{children:f}),hasTextOnlyContent:!0,testid:"mw_delete_conversation_dialog",primaryCallToAction:{label:g._("__JHASH__-8JiLsbVPAZ__JHASH__"),onPress:function(a){b("bs_curry")._1(d,void 0);return b("bs_curry")._1(c,void 0)},testid:"mw_delete_conversation_dialog_confirm",type:"primary"},secondaryCallToAction:{label:g._("__JHASH__ko1T7DvDF-J__JHASH__"),onPress:function(a){return b("bs_curry")._1(c,void 0)}}})}c=a;f.make=c}),null);
__d("MWChatDeleteConversationDialogForJSResource.react",["MWChatDeleteConversationDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWChatDeleteConversationDialog.bs").make}),98);/*FB_PKG_DELIM*/
__d("MAWGroupInviteDialog.bs",["fbt","CometScrollView.react","FBID.bs","JSResourceForInteraction","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","MAWJob.bs","MAWThreadId.bs","MAWUpdateLSThreadCapabilities.bs","MWCMThreadTypes.bs","MWCardedDialog.react","MWDialogSection.react","MWDialogText.react","MWLSGroupMembershipMemberList.bs","MWPActor.bs","MWTextPairing.react","MWThreadPicture.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","ServerTime","bs_caml","bs_caml_int64","bs_curry","bs_int64","promiseDone","react","stylex","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={groupInfo:{paddingTop:"discj3wi",paddingBottom:"ihqw7lf3"},groupRow:{paddingBottom:"sj5x9vvc",textAlign:"oqcyycmt"},groupRowWithLargePadding:{paddingBottom:"ihqw7lf3",textAlign:"oqcyycmt"},banner:{paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"}};function a(a){var c=a.thread,d=a.onClose,e=b("useReStore")(),f=b("MWPActor.bs").useActor(void 0),h=b("ReQLSubscription.bs").useArray(j.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.take(a.getKeyRange(a.fromTableAscending(e.table("participants")),{hd:c.threadKey,tl:0}),20),function(a){var c=b("ReQLSuspense").firstExn(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}));return[a,c]})},[e,JSON.stringify(c.threadKey)])),l=j.useMemo(function(){return h.filter(function(a){return b("bs_caml").i64_neq(a[1].id,f)})},[f,h]);a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(e.table("group_invites")),{hd:c.threadKey,tl:0})},[e,JSON.stringify(c.threadKey)]));var m=j.useMemo(function(){return h.filter(function(a){return b("bs_caml").i64_neq(a[1].blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)}).map(function(a){return a[1]})},l),n=b("useCometLazyDialog")(b("JSResourceForInteraction")("MAWGroupInviteBlockedAccountsDialog.react",{name:"MAWGroupInviteBlockedAccountsDialog.react","class":"fluid"}).__setRef("MAWGroupInviteDialog.bs")),o=n[0];n=b("useCometLazyDialog")(b("JSResourceForInteraction")("MAWGroupInviteDeleteConfirmationDialog.react",{name:"MAWGroupInviteDeleteConfirmationDialog.react","class":"fluid"}).__setRef("MAWGroupInviteDialog.bs"));var p=n[0],q=a[0];n=b("bs_caml").i64_lt(q.inviteExpirationTimestampMs,b("bs_caml_int64").of_float(b("ServerTime").getMillis()));var r=j.useCallback(function(a){if(b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(e,c.threadKey).then(function(a){if(a)return b("MAWJob.bs").acceptGroupInvite.waitUntilPersisted(a._0,b("FBID.bs").ofStringExn(b("bs_int64").to_string(q.inviterId)),b("FBID.bs").ofStringExn(b("bs_int64").to_string(q.inviteeId)));else return b("Promise").resolve(void 0)}).then(function(a){return b("LSTransaction.bs").run(e,function(a){return b("MAWUpdateLSThreadCapabilities.bs").clearGroupInviteTxn(a,c.threadKey)},"readWrite")}),void 0,void 0);return}},[e,c,q]),s=!b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType),t=l.length,u=l.filter(function(b){b=b[0];var a=b.isSuperAdmin;b=b.subscribeSource;if(a!==void 0&&b!==void 0)return a;else return!1}).map(function(a){return a[1].name})[0];a=a.map(function(a){return l.filter(function(c){return b("bs_caml").i64_eq(a.inviterId,c[1].id)}).map(function(a){return a[1].name})[0]});var v=a.length,w=l.filter(function(a){return b("bs_caml").i64_lt(a[1].contactViewerRelationship,[0,2])}).length;v=v===1?g._("__JHASH__7bGkVfIbVcB__JHASH__",[g._param("GroupInviter",a[0])]):v===2?g._("__JHASH__j6LAuNWYCNU__JHASH__",[g._param("GroupInviter1",a[0]),g._param("GroupInviter2",a[1])]):g._("__JHASH__hDbsQcKNMZj__JHASH__",[g._param("GroupInviter1",a[0]),g._param("GroupInviter2",a[1])]);return j.jsxs(b("MWCardedDialog.react"),{title:g._("__JHASH__CB5kGBWpU10__JHASH__"),withCloseButton:!0,onClose:d,children:[j.jsxs("div",{className:(i||(i=b("stylex")))(k.groupInfo),children:[j.jsx("div",{className:i(k.groupRow),children:j.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:10,thread:c})}),j.jsx("div",{className:i(k.groupRowWithLargePadding),children:j.jsx(b("MWDialogText.react"),{color:"primary",type:"headlineEmphasized",numberOfLines:1,children:j.jsx(b("LSThreadTitle.bs").make,{thread:c})})}),j.jsx("div",{className:i(k.groupRow),children:j.jsx(b("MWDialogText.react"),{color:"primary",type:"body",children:g._("__JHASH__8FWygrQd6jj__JHASH__",[g._param("GroupCreator",u)])})}),j.jsx("div",{className:i(k.groupRow),children:j.jsx(b("MWDialogText.react"),{color:"secondary",type:"body",children:g._("__JHASH__16D2I-gMAJy__JHASH__",[g._plural(w,"number")])})}),j.jsx("div",{className:i(k.groupRow),children:j.jsx(b("MWDialogText.react"),{color:"secondary",type:"body",children:g._("__JHASH__3ySLl-cIGrY__JHASH__")})})]}),j.jsx(b("MWDialogSection.react"),{children:j.jsx(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:j.jsx(b("MWLSGroupMembershipMemberList.bs").make,{thread:c,showAdminsOnly:!1,showAdminIndicator:s,showInvitedByViewerOnly:!1,participantsAndContacts:l.map(function(a){return{TAG:0,_0:a[0],_1:a[1]}})})}),headline:g._("__JHASH__xq1ar9Ecasz__JHASH__",[g._param("GroupSize",t,[0])])}),j.jsx("div",{className:i(k.banner),children:j.jsx("div",{className:i(k.groupRow),children:j.jsx(b("MWTextPairing.react"),{body:g._("__JHASH__OpNpn5jXmng__JHASH__"),headline:v,textAlign:"center",bodyColor:"secondary",headlineColor:"secondary"})})})],size:"medium",primaryCallToAction:{disabled:n,label:g._("__JHASH__OFdtbAdxecX__JHASH__"),onPress:function(a){if(m.length>0)return o({thread:c,blockedContacts:m,inviter:q,closeParentDialogCallback:function(a){return b("bs_curry")._1(d,void 0)},onClose:function(a){}},function(a){});else{b("bs_curry")._1(r,void 0);return b("bs_curry")._1(d,void 0)}},testid:"maw-group-invite-join-button",type:"primary"},secondaryCallToAction:{label:g._("__JHASH__ZOSqE33IREJ__JHASH__"),onPress:function(a){return p({thread:c,closeParentDialogCallback:function(a){return b("bs_curry")._1(d,void 0)},onClose:function(a){}},function(a){})},testid:"maw-group-invite-delete-button"}})}c=a;f.styles=k;f.make=c}),null);
__d("MAWGroupInviteDialog.react",["MAWGroupInviteDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWGroupInviteDialog.bs").make}),98);